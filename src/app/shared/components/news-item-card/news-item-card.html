<mat-card appearance="outlined" class="card">
  <mat-card-header>
    <mat-card-title-group class="card__title-group">
      <mat-card-title class="card__title">{{ newsItem().mainTitle }}</mat-card-title>
      <mat-card-subtitle class="card__subtitle">
        <b>Source:</b> {{ newsItem().source }}</mat-card-subtitle
      >
      <mat-card-subtitle class="card__subtitle"
        ><b>Date: </b>{{ newsItem().timestamp | date: 'yyyy/MM/dd' : 'UTC' }}</mat-card-subtitle
      >
      <app-img-render
        [newsItemUrl]="newsItem().images?.smallImageDetailsProxied"
        [title]="newsItem().mainTitle"
      />
    </mat-card-title-group>
  </mat-card-header>

  <mat-card-content class="card__content">
    {{ newsItem().summary }}
  </mat-card-content>
  @if (newsItem().hasSubNews && isDetailsMode()) {
    <mat-card-content class="card__content">
      <mat-list role="list">
        @for (subNewsItem of newsItem().subNews; track subNewsItem) {
          <mat-list-item role="listitem">
            <a rel="noopener noreferrer" target="_blank" [href]="subNewsItem.newsLink">{{
              subNewsItem.mainTitle
            }}</a>
          </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  }
  <mat-card-actions align="end">
    <button matButton="filled" type="button" (click)="goTo(newsItem().newsLink)">Go</button>
  </mat-card-actions>
  @if (!isDetailsMode()) {
    <mat-card-actions align="end">
      <button matButton="filled" type="button" (click)="generateGhibliIA()">
        <div class="card__button-action">
          <span> GHIBLIZE </span>
          <app-img-render [height]="32" [newsItemUrl]="'./images.jpeg'" [width]="50" />
        </div>
      </button>
      <button matButton="filled" type="button" (click)="goToDetails()">Details</button>
    </mat-card-actions>
  }
</mat-card>
